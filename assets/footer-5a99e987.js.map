{"version":3,"file":"footer-5a99e987.js","sources":["../../src/js/footer.js"],"sourcesContent":["import { notify } from './notifier.js';\nimport { API_SUBSCRIPTION_POINT, api } from './api.js';\n\nconst feedbackForm = document.querySelector('.footer-form');\n\ncheckInputStart();\n\nfeedbackForm.addEventListener('submit', sendUserInfo);\n\nfunction sendUserInfo(event) {\n  event.preventDefault();\n\n  const email = feedbackForm.elements.email.value.trim();\n\n  if (!email) {\n    notify('error', 'Please, fill in the field before sending!');\n    return;\n  }\n\n  api\n    .post(API_SUBSCRIPTION_POINT, { email: email })\n    .then(response => {\n      console.log(response);\n      notify('success', response.data.message);\n      localStorage.setItem(\n        'feedback-form-state',\n        JSON.stringify({ email: email })\n      );\n      feedbackForm.reset();\n    })\n\n    .catch(error => {\n      if (error.message && error.message.response.status === 409) {\n        notify('warning', 'You are already subscribed.');\n      } else {\n        notify('error', 'An error occurred. Please try again later.');\n      }\n    });\n}\n\nfunction checkInputStart() {\n  const localInfo =\n    JSON.parse(localStorage.getItem('feedback-form-state')) ?? {};\n  feedbackForm.elements.email.value = localInfo.email || '';\n}\n"],"names":["feedbackForm","checkInputStart","sendUserInfo","event","email","notify","api","API_SUBSCRIPTION_POINT","response","error","localInfo"],"mappings":"4FAGA,MAAMA,EAAe,SAAS,cAAc,cAAc,EAE1DC,IAEAD,EAAa,iBAAiB,SAAUE,CAAY,EAEpD,SAASA,EAAaC,EAAO,CAC3BA,EAAM,eAAc,EAEpB,MAAMC,EAAQJ,EAAa,SAAS,MAAM,MAAM,OAEhD,GAAI,CAACI,EAAO,CACVC,EAAO,QAAS,2CAA2C,EAC3D,MACD,CAEDC,EACG,KAAKC,EAAwB,CAAE,MAAOH,CAAK,CAAE,EAC7C,KAAKI,GAAY,CAChB,QAAQ,IAAIA,CAAQ,EACpBH,EAAO,UAAWG,EAAS,KAAK,OAAO,EACvC,aAAa,QACX,sBACA,KAAK,UAAU,CAAE,MAAOJ,CAAK,CAAE,CACvC,EACMJ,EAAa,MAAK,CACxB,CAAK,EAEA,MAAMS,GAAS,CACVA,EAAM,SAAWA,EAAM,QAAQ,SAAS,SAAW,IACrDJ,EAAO,UAAW,6BAA6B,EAE/CA,EAAO,QAAS,4CAA4C,CAEpE,CAAK,CACL,CAEA,SAASJ,GAAkB,CACzB,MAAMS,EACJ,KAAK,MAAM,aAAa,QAAQ,qBAAqB,CAAC,GAAK,GAC7DV,EAAa,SAAS,MAAM,MAAQU,EAAU,OAAS,EACzD"}