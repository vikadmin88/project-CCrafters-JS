{"version":3,"file":"quote-favorites-1097a67f.js","sources":["../../src/js/quote-favorites.js"],"sourcesContent":["import { API_QUOTE_POINT, api } from './api.js';\nimport { notify } from './notifier.js';\n\nfunction getCurrentDate() {\n  const date = new Date();\n  return `${date.getFullYear()}-${date.getMonth() + 1}-${date.getDate()}`;\n}\n\nfunction updateFavoritesQuote() {\n  const storedData = JSON.parse(localStorage.getItem('quoteOfTheDay'));\n  const storedDate = localStorage.getItem('quoteDate');\n  const currentDate = getCurrentDate();\n\n  if (\n    storedData &&\n    storedData.quote &&\n    storedData.author &&\n    storedDate === currentDate\n  ) {\n    document.querySelector('.quote-favorites-text').textContent =\n      storedData.quote;\n    document.querySelector('.quote-favorites-author').textContent =\n      storedData.author;\n  } else {\n    api\n      .get(API_QUOTE_POINT, {})\n      .then(({ quote, author }) => {\n        if (quote && author) {\n          localStorage.setItem(\n            'quoteOfTheDay',\n            JSON.stringify({ quote, author })\n          );\n          localStorage.setItem('quoteDate', currentDate);\n          document.querySelector('.quote-favorites-text').textContent = quote;\n          document.querySelector('.quote-favorites-author').textContent = author;\n        } else {\n          notify.error(`Update failed due to an error.`);\n        }\n      })\n      .catch(error => {\n        notify.error(`API error: An error occurred while retrieving the quote: ${error}`);\n      });\n  }\n}\n\nupdateFavoritesQuote();\n"],"names":["getCurrentDate","date","updateFavoritesQuote","storedData","storedDate","currentDate","api","API_QUOTE_POINT","quote","author","notify","error"],"mappings":"iFAGA,SAASA,GAAiB,CACxB,MAAMC,EAAO,IAAI,KACjB,MAAO,GAAGA,EAAK,YAAa,CAAA,IAAIA,EAAK,SAAU,EAAG,CAAC,IAAIA,EAAK,QAAO,CAAE,EACvE,CAEA,SAASC,GAAuB,CAC9B,MAAMC,EAAa,KAAK,MAAM,aAAa,QAAQ,eAAe,CAAC,EAC7DC,EAAa,aAAa,QAAQ,WAAW,EAC7CC,EAAcL,IAGlBG,GACAA,EAAW,OACXA,EAAW,QACXC,IAAeC,GAEf,SAAS,cAAc,uBAAuB,EAAE,YAC9CF,EAAW,MACb,SAAS,cAAc,yBAAyB,EAAE,YAChDA,EAAW,QAEbG,EACG,IAAIC,EAAiB,EAAE,EACvB,KAAK,CAAC,CAAE,MAAAC,EAAO,OAAAC,KAAa,CACvBD,GAASC,GACX,aAAa,QACX,gBACA,KAAK,UAAU,CAAE,MAAAD,EAAO,OAAAC,CAAM,CAAE,CAC5C,EACU,aAAa,QAAQ,YAAaJ,CAAW,EAC7C,SAAS,cAAc,uBAAuB,EAAE,YAAcG,EAC9D,SAAS,cAAc,yBAAyB,EAAE,YAAcC,GAEhEC,EAAO,MAAM,gCAAgC,CAEvD,CAAO,EACA,MAAMC,GAAS,CACdD,EAAO,MAAM,4DAA4DC,CAAK,EAAE,CACxF,CAAO,CAEP,CAEAT,EAAsB"}