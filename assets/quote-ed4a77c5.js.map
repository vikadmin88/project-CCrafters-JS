{"version":3,"file":"quote-ed4a77c5.js","sources":["../../src/js/quote.js"],"sourcesContent":["import { API_QUOTE_POINT, api } from './api.js';\nimport { notify } from './notifier.js';\n\nfunction getCurrentDate() {\n  const date = new Date();\n  return `${date.getFullYear()}-${date.getMonth() + 1}-${date.getDate()}`;\n}\n\nfunction updateQuote() {\n  const storedData = JSON.parse(localStorage.getItem('quoteOfTheDay'));\n  const storedDate = localStorage.getItem('quoteDate');\n  const currentDate = getCurrentDate();\n\n  if (\n    storedData &&\n    storedData.quote &&\n    storedData.author &&\n    storedDate === currentDate\n  ) {\n    document.querySelector('.quote-text').textContent = storedData.quote;\n    document.querySelector('.quote-author').textContent = storedData.author;\n  } else {\n    api\n      .get(API_QUOTE_POINT, {})\n      .then(({ quote, author }) => {\n        if (quote && author) {\n          localStorage.setItem(\n            'quoteOfTheDay',\n            JSON.stringify({ quote, author })\n          );\n          localStorage.setItem('quoteDate', currentDate);\n          document.querySelector('.quote-text').textContent = quote;\n          document.querySelector('.quote-author').textContent = author;\n        } else {\n          console.log('Update failed due to an error.');\n        }\n      })\n      .catch(error => {\n        console.error('An error occurred while retrieving the quote:', error);\n        notify('error', `API error: ${error}`);\n      });\n  }\n}\n\nupdateQuote();\n"],"names":["getCurrentDate","date","updateQuote","storedData","storedDate","currentDate","api","API_QUOTE_POINT","quote","author","error","notify"],"mappings":"sFAGA,SAASA,GAAiB,CACxB,MAAMC,EAAO,IAAI,KACjB,MAAO,GAAGA,EAAK,YAAa,CAAA,IAAIA,EAAK,SAAU,EAAG,CAAC,IAAIA,EAAK,QAAO,CAAE,EACvE,CAEA,SAASC,GAAc,CACrB,MAAMC,EAAa,KAAK,MAAM,aAAa,QAAQ,eAAe,CAAC,EAC7DC,EAAa,aAAa,QAAQ,WAAW,EAC7CC,EAAcL,IAGlBG,GACAA,EAAW,OACXA,EAAW,QACXC,IAAeC,GAEf,SAAS,cAAc,aAAa,EAAE,YAAcF,EAAW,MAC/D,SAAS,cAAc,eAAe,EAAE,YAAcA,EAAW,QAEjEG,EACG,IAAIC,EAAiB,EAAE,EACvB,KAAK,CAAC,CAAE,MAAAC,EAAO,OAAAC,KAAa,CACvBD,GAASC,GACX,aAAa,QACX,gBACA,KAAK,UAAU,CAAE,MAAAD,EAAO,OAAAC,CAAM,CAAE,CAC5C,EACU,aAAa,QAAQ,YAAaJ,CAAW,EAC7C,SAAS,cAAc,aAAa,EAAE,YAAcG,EACpD,SAAS,cAAc,eAAe,EAAE,YAAcC,GAEtD,QAAQ,IAAI,gCAAgC,CAEtD,CAAO,EACA,MAAMC,GAAS,CACd,QAAQ,MAAM,gDAAiDA,CAAK,EACpEC,EAAO,QAAS,cAAcD,CAAK,EAAE,CAC7C,CAAO,CAEP,CAEAR,EAAa"}