{"version":3,"file":"rating_modal-06224254.js","sources":["../../src/js/exercise_modal.js","../../src/js/rating_modal.js"],"sourcesContent":["import { API_EXERCISES_POINT, api } from './api.js';\nimport { notify } from './notifier.js';\nimport { openRatingModal } from './rating_modal.js';\n\nlet modalCard = document.querySelector('.modal');\nlet closeBtn = document.querySelector('.close-modal-btn');\nlet favBtn = document.querySelector('.add-favorite-btn');\nlet ratingBtn = document.querySelector('.give-rating-btn');\nlet modal = document.querySelector('.backdrop-modal');\nlet loader = document.querySelector('.loader');\n\nlet exerciseObject = { isFavorite: false };\n\n// open modal, get exer\nexport function openModalHandler(e) {\n  if (\n    !e.target &&\n    !e.target.classList.contains('card-button') &&\n    !e.target.closest('.card-button').classList.contains('card-button')\n  ) {\n    return;\n  }\n\n  let id;\n  try {\n    id = e.target.closest('.card-button').dataset.id;\n  } catch {\n    id = '';\n  }\n\n  if (!id) {\n    return;\n  }\n  addLoader();\n  openModal(id);\n  document.addEventListener('keydown', closeModalHandler);\n  document.querySelector('.backdrop-modal').addEventListener('click', closeModalHandler);\n}\n\nfunction addLoader() {\n  document.querySelector('.backdrop-modal').classList.remove('visually-hidden');\n  document.querySelector('.modal').innerHTML =\n    '<div class=\"loader-modal\"></div>';\n  document.querySelector('.loader-modal').style.display = 'block';\n}\n\n\n// closes the modal\nexport function closeModalHandler(e) {\n  if (\n    !e.target.classList.contains('backdrop-modal') &&\n    !e.target.classList.contains('give-rating-btn') &&\n    !e.target.closest('.close-modal-btn') &&\n    e.code !== 'Escape' &&\n    !modal.classList.contains('visually-hidden')\n  ) {\n    return;\n  }\n  modal.classList.add('visually-hidden');\n  document.removeEventListener('keydown', closeModalHandler);\n  modal.removeEventListener('click', closeModalHandler);\n}\n\nfunction addRemoveFavoriteHandler(e) {\n  if (\n    Object.hasOwn(exerciseObject, 'isFavorite') &&\n    exerciseObject.isFavorite\n  ) {\n    removeFromFavoriteStorage(e);\n    exerciseObject.isFavorite = false;\n    notify.success('The exercise has been removed from your favorites list');\n  } else {\n    addToFavoriteStorage(e);\n    exerciseObject.isFavorite = true;\n    notify.success('The exercise has been added to your favorites list');\n  }\n  markupAndReload(exerciseObject);\n}\n// adds to favorites\nfunction addToFavoriteStorage(e) {\n  let curFavorites = JSON.parse(localStorage.getItem('favorites')) || [];\n  curFavorites.push(exerciseObject);\n  localStorage.setItem('favorites', JSON.stringify(curFavorites));\n}\n\n// remove from favorites\nfunction removeFromFavoriteStorage(e) {\n  const exerciseId = e.target.dataset.id;\n  let curFavorites = JSON.parse(localStorage.getItem('favorites')) || [];\n  let updFavorites = curFavorites.filter(\n    exercise => exercise._id !== exerciseId\n  );\n  localStorage.setItem('favorites', JSON.stringify(updFavorites));\n}\n\nfunction getExerciseFromStorage(id) {\n  if (id) {\n    let itemObj;\n    let exerciseId = id;\n    let curFavorites = JSON.parse(localStorage.getItem('favorites')) || [];\n    itemObj = curFavorites.filter(exercise => exercise._id === exerciseId);\n    exerciseObject.isFavorite = !!itemObj.length;\n    return itemObj;\n  }\n}\n\nfunction openModal(id) {\n  getExerciseFromStorage(id);\n  getExerciseApi(id);\n}\n\nfunction markupAndReload(item) {\n  document.querySelector('.modal').innerHTML = createMarkupExercisesCard(item);\n\n  // refresh all elements after recreate them, and add listeners\n  closeBtn = document.querySelector('.close-modal-btn');\n  closeBtn.addEventListener('click', closeModalHandler);\n\n  favBtn = document.querySelector('.add-favorite-btn');\n  favBtn.addEventListener('click', addRemoveFavoriteHandler);\n\n  ratingBtn = document.querySelector('.give-rating-btn');\n  ratingBtn.addEventListener('click', ratingHandler);\n}\n\nfunction ratingHandler(e) {\n  document.querySelector('.backdrop-modal').classList.add('visually-hidden');\n  openRatingModal(document.querySelector('.backdrop-modal'), e);\n}\n\nfunction getExerciseApi(id) {\n  if (!id) {\n    return;\n  }\n\n  api\n    .get(`${API_EXERCISES_POINT}/${id}`, {})\n    .then(data => {\n      if (exerciseObject.isFavorite) {\n        exerciseObject = data;\n        exerciseObject.isFavorite = true;\n      } else {\n        exerciseObject = data;\n        exerciseObject.isFavorite = false;\n      }\n      markupAndReload(data);\n    })\n    .catch(error => notify.error(`API error: ${error}`))\n    .finally(() => {\n      try {\n        document.querySelector('.loader-modal').style.display = 'none';\n      } catch {}\n    });\n}\n\nfunction spanToCapitalize(text) {\n  return text.charAt(0).toUpperCase() + text.slice(1);\n}\n\nfunction createMarkupExercisesCard({\n  _id,\n  bodyPart,\n  equipment,\n  gifUrl,\n  name,\n  target,\n  description,\n  rating,\n  burnedCalories,\n  time,\n  popularity,\n  isFavorite,\n}) {\n  let starsGray = 5;\n  let starsOrange = Number(rating.toFixed());\n  starsGray -= starsOrange;\n  let stars = '<r class=\"star-1\"/>'\n    .repeat(starsOrange)\n    .concat('<r class=\"star-0\"/>'.repeat(starsGray));\n  return `<div class=\"modal-description-container\">\n      <button class=\"close-modal-btn\" title=\"Close window\">\n        <svg class=\"close-modal-icon\"  width=\"12\" height=\"12\" viewBox=\"0 0 14 14\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n        <path d=\"M12.8332 1.16666L1.1665 12.8333M1.1665 1.16666L12.8332 12.8333\" stroke=\"#1B1B1B\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/></svg>\n      </button>\n      <div class=\"modal-gif-container\">\n        <picture>\n          <source\n            media=\"(max-width:767.98px)\"\n            type=\"image/gif\"\n            width=\"295\"\n            height=\"258\"\n          />\n          <source\n            media=\"(min-width:768px)\"\n            type=\"image/gif\"\n            width=\"270\"\n            height=\"259\"\n          />\n          <img\n            class=\"modal-gif\"\n            src=\"${gifUrl}\"\n            alt=\"${name}\"\n            width=\"295\"\n            height=\"258\"\n          />\n        </picture>\n      </div>\n      <div class=\"text-container\">\n        <h4 class=\"modal-title\">${name}</h4>\n        <div class=\"rating-container\">\n          <div class=\"star-block\">\n          <p class=\"modal-exercises-rating\">${rating.toFixed(1)}</p>\n          ${stars}\n        </div>\n        <ul class=\"description-list\">\n          <li class=\"description-item\">\n            <p>Target</p>\n            <span>${spanToCapitalize(target)}</span>\n          </li>\n          <li class=\"description-item\">\n            <p>Body Part</p>\n            <span>${spanToCapitalize(bodyPart)}</span>\n          </li>\n          <li class=\"description-item\">\n            <p>Equipment</p>\n            <span>${spanToCapitalize(equipment)}</span>\n          </li>\n          <li class=\"description-item\">\n            <p>Popular</p>\n            <span>${popularity}</span>\n          </li>\n          <li class=\"description-item\">\n            <p>Burned Calories</p>\n            <span>${burnedCalories}/${time} min</span>\n          </li>\n        </ul>\n        <p class=\"modal-description-text\">${description}</p>\n        <div class=\"modal-buttons-container\">\n          <button data-id=\"${_id}\" class=\"add-favorite-btn\">\n            ${isFavorite ? 'Remove from' : 'Add to favorites'}\n            <svg class=\"icon-heart\" width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n            <path d=\"M17.3671 3.84166C16.9415 3.41583 16.4361 3.07803 15.8799 2.84757C15.3237 2.6171 14.7275 2.49847 14.1254 2.49847C13.5234 2.49847 12.9272 2.6171 12.371 2.84757C11.8147 3.07803 11.3094 3.41583 10.8838 3.84166L10.0004 4.725L9.11709 3.84166C8.25735 2.98192 7.09128 2.49892 5.87542 2.49892C4.65956 2.49892 3.4935 2.98192 2.63376 3.84166C1.77401 4.70141 1.29102 5.86747 1.29102 7.08333C1.29102 8.29919 1.77401 9.46525 2.63376 10.325L3.51709 11.2083L10.0004 17.6917L16.4838 11.2083L17.3671 10.325C17.7929 9.89937 18.1307 9.39401 18.3612 8.83779C18.5917 8.28158 18.7103 7.6854 18.7103 7.08333C18.7103 6.48126 18.5917 5.88508 18.3612 5.32887C18.1307 4.77265 17.7929 4.26729 17.3671 3.84166Z\" stroke=\"#F6F6F6\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n            </svg>\n          </button>\n          <button data-id=\"${_id}\" class=\"give-rating-btn\">\n            Give a rating\n          </button>\n        </div>\n      </div>\n    </div>`;\n}\n","import { notify } from './notifier.js';\nimport { API_EXERCISES_POINT, api } from './api.js';\nimport { closeModalHandler } from './exercise_modal.js';\n\nlet callerContext;\nlet exerciseId;\n\nconst refs = {\n  icons: document.querySelectorAll('.rating-star-icon'),\n  form: document.querySelector('.rating-form'),\n  stars: document.querySelector('.rating-star-list'),\n  backdrop: document.querySelector('.backdrop-rating'),\n};\n\nrefs.icons.forEach((icon, index) => {\n  icon.addEventListener('mouseover', () => {\n    for (let i = 0; i < index; i++) {\n      refs.icons[i].classList.add('hovered');\n    }\n  });\n\n  icon.addEventListener('mouseout', () => {\n    for (let i = 0; i < index; i++) {\n      refs.icons[i].classList.remove('hovered');\n    }\n  });\n});\n\nrefs.form.addEventListener('submit', sendRating);\nrefs.stars.addEventListener('click', changeRating);\nrefs.backdrop.addEventListener('click', closeModal);\ndocument.addEventListener('keydown', closeModal);\n\nfunction changeRating(event) {\n  if (event.target.nodeName !== 'INPUT') {\n    return;\n  }\n\n  const rating = event.currentTarget.previousElementSibling;\n\n  rating.textContent = parseFloat(event.target.value).toFixed(1);\n\n  const stars = Array.from(\n    event.currentTarget.querySelectorAll('.rating-star-icon')\n  );\n  const index = stars.indexOf(event.target.nextElementSibling);\n\n  stars.forEach((star, i) => {\n    star.classList.toggle('selected', i <= index);\n  });\n}\n\nfunction sendRating(event) {\n  event.preventDefault();\n\n  const rate = parseInt(refs.form.querySelector('.rating-value').textContent);\n  const email = event.currentTarget.elements.email.value;\n  const review = event.currentTarget.elements.comment.value;\n\n  const ratingParams = {\n    rate,\n    email,\n    review,\n  };\n\n  api\n    .patch(\n      `${API_EXERCISES_POINT}/${exerciseId}/rating`,\n      JSON.stringify(ratingParams)\n    )\n    .then(response => {\n      notify.success('Rating has been updated!');\n      refs.form.reset();\n      refs.backdrop.click();\n    })\n    .catch(error => {\n      if (error.message.response.status === 409) {\n        notify.warning(`Warning: ${error.message.response.data.message}`);\n      } else {\n        notify.error(`API error: ${error.message.response.data.message}`);\n      }\n    });\n}\n\nfunction closeModal(e) {\n  if (\n    !e.target.classList.contains('backdrop-rating') &&\n    !e.target.classList.contains('close') &&\n    // !e.target.classList.contains('rating-btn') &&\n    !e.target.closest('.close') &&\n    e.code !== 'Escape'\n  ) {\n    return;\n  }\n  refs.form.reset();\n  if (callerContext) {\n    callerContext.classList.remove('visually-hidden');\n  }\n\n  refs.backdrop.classList.add('visually-hidden');\n\n  document.addEventListener('keydown', closeModalHandler);\n}\n\nexport function openRatingModal(callContext, event) {\n  callerContext = callContext;\n  exerciseId = event.target.dataset.id;\n  refs.backdrop.classList.remove('visually-hidden');\n\n  document.removeEventListener('keydown', closeModalHandler);\n}\n"],"names":["closeBtn","favBtn","ratingBtn","modal","exerciseObject","openModalHandler","id","addLoader","openModal","closeModalHandler","addRemoveFavoriteHandler","removeFromFavoriteStorage","notify","addToFavoriteStorage","markupAndReload","curFavorites","exerciseId","updFavorites","exercise","getExerciseFromStorage","itemObj","getExerciseApi","item","createMarkupExercisesCard","ratingHandler","openRatingModal","api","API_EXERCISES_POINT","data","error","spanToCapitalize","text","_id","bodyPart","equipment","gifUrl","name","target","description","rating","burnedCalories","time","popularity","isFavorite","starsGray","starsOrange","stars","callerContext","refs","icon","index","i","sendRating","changeRating","closeModal","event","star","rate","email","review","ratingParams","response","callContext"],"mappings":"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"}